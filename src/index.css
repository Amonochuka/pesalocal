@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Primary Background - Obsidian Matte */
    --bg-obsidian: #0f1113;
    --bg-obsidian-rgb: 15, 17, 19;

    /* Secondary Card Surface - Calm Navy */
    --bg-vault-card: #1a2b3c;
    --bg-vault-card-rgb: 26, 43, 60;

    /* Glassmorphic elements */
    --glass-bg: rgba(26, 43, 60, 0.6);
    --glass-border: 1px solid rgba(255, 255, 255, 0.05);

    /* Primary Accent - Emerald Oxygen */
    --accent-emerald: #3bceac;
    --accent-emerald-dark: #2ba58b;

    /* Secondary Accent - Soft Amber */
    --accent-amber: #f7c548;

    /* Success/Health - Mint Leaf */
    --accent-mint: #8ac926;

    /* Danger/Alerts */
    --accent-rust: #e76f51;

    /* Text colors */
    --text-primary: #faf9f6;
    --text-secondary: #9ba3af;
    --text-muted: #64748b;

    /* Effects */
    --safe-glow: 0 0 20px rgba(59, 206, 172, 0.15);
    --vault-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

    /* Typography */
    --font-display: "IBM Plex Sans", sans-serif;
    --font-body: "Inter", sans-serif;

    /* Spacing (8pt grid) */
    --space-1: 4px;
    --space-2: 8px;
    --space-3: 12px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-8: 32px;

    /* Radius */
    --radius-vault: 24px;
    --radius-card: 20px;
    --radius-pill: 40px;
  }

  body {
    font-family: var(--font-body);
    background: var(--bg-obsidian);
    color: var(--text-primary);
    min-height: 100vh;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
  }

  input,
  button {
    font-family: inherit;
  }
}

@layer components {
  /* Glass Card - Replaces phone-frame */
  .glass-card {
    @apply bg-vault/40 backdrop-blur-xl border border-white/5 shadow-vault 
           rounded-card transition-all duration-300 hover:border-emerald/20;
  }

  /* Header Styles */
  .app-header {
    @apply sticky top-0 z-50 bg-obsidian/80 backdrop-blur-md border-b border-white/5 
           px-4 md:px-8 py-4;
  }

  .logo-area {
    @apply flex items-center gap-3;
  }

  .logo-icon {
    @apply w-10 h-10 bg-emerald text-obsidian rounded-xl flex items-center 
           justify-center font-black text-xl italic shadow-emerald-glow shrink-0;
  }

  .logo-text {
    @apply text-xl md:text-2xl font-black font-display tracking-tight;
    background: linear-gradient(
      135deg,
      var(--text-primary) 0%,
      var(--text-secondary) 100%
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .header-actions {
    @apply flex items-center gap-4 md:gap-6 text-text-secondary;
  }

  .header-actions i {
    @apply text-xl cursor-pointer transition-colors hover:text-emerald;
  }

  .alert-badge {
    @apply absolute -top-1 -right-1 w-4 h-4 bg-rust text-[9px] flex items-center 
           justify-center rounded-full border-2 border-obsidian text-white font-bold;
  }

  /* Encryption Status Pill */
  .privacy-pill {
    @apply inline-flex items-center gap-2 bg-emerald/5 border border-emerald/10 
           rounded-full px-4 py-1.5 text-[11px] text-emerald font-bold uppercase tracking-tighter;
  }

  /* ===== ONBOARDING ===== */
  .welcome-card {
    @apply glass-card p-8 text-center max-w-2xl mx-auto;
  }

  .welcome-icon {
    @apply w-20 h-20 md:w-24 md:h-24 bg-emerald/10 rounded-full flex items-center 
           justify-center mx-auto mb-6 text-4xl md:text-5xl text-emerald 
           border-2 border-emerald/20;
  }

  .welcome-title {
    @apply text-3xl md:text-4xl font-bold mb-3 font-display;
  }

  .welcome-sub {
    @apply text-text-secondary mb-8 leading-relaxed text-sm md:text-base;
  }

  .role-options {
    @apply flex flex-col gap-3 max-w-md mx-auto;
  }

  .role-btn {
    @apply glass-card p-4 md:p-5 flex items-center gap-4 cursor-pointer 
           transition-all hover:border-emerald hover:-translate-y-0.5 text-left w-full;
  }

  .role-icon {
    @apply w-12 h-12 md:w-14 md:h-14 bg-emerald/10 rounded-lg flex items-center 
           justify-center text-2xl md:text-3xl text-emerald shrink-0;
  }

  .role-text h3 {
    @apply text-base md:text-lg mb-1 font-display;
  }

  .role-text p {
    @apply text-xs md:text-sm text-text-secondary;
  }

  /* ===== DASHBOARD ===== */
  .dashboard-grid {
    @apply flex flex-col gap-4 md:gap-6;
  }

  .balance-card {
    @apply glass-card p-6 md:p-8 border border-emerald/20;
    background: linear-gradient(135deg, #1a2b3c 0%, #1d3347 100%);
  }

  .balance-amount {
    @apply text-4xl md:text-5xl font-bold font-display tracking-tight mb-1;
  }

  .balance-trend {
    @apply text-emerald text-sm flex items-center gap-1;
  }

  .stats-grid {
    @apply grid grid-cols-2 md:grid-cols-4 gap-3 md:gap-4;
  }

  .stat-card {
    @apply glass-card p-4 md:p-5;
  }

  .stat-label {
    @apply text-text-secondary text-xs md:text-sm mb-2;
  }

  .stat-value {
    @apply text-xl md:text-2xl font-bold font-display;
  }

  /* Business header */
  .business-header {
    @apply glass-card p-4 flex items-center gap-4;
  }

  .business-avatar {
    @apply w-14 h-14 md:w-16 md:h-16 bg-emerald rounded-full flex items-center 
           justify-center text-obsidian font-bold text-xl md:text-2xl shrink-0;
  }

  /* ===== BUSINESS QUOTING SYSTEM ===== */
  .quote-builder {
    @apply glass-card p-5;
  }

  .quote-header {
    @apply flex justify-between items-center mb-4;
  }

  .quote-header h3 {
    @apply font-display text-lg flex items-center gap-2;
  }

  .quote-number {
    @apply bg-emerald/10 px-3 py-1 rounded-full text-xs text-emerald 
           border border-emerald/20;
  }

  .customer-info {
    @apply bg-black/20 rounded-lg p-4 mb-4 border border-white/5;
  }

  .customer-row {
    @apply flex flex-col sm:flex-row gap-3 mb-3;
  }

  .customer-row input {
    @apply flex-1 bg-black/30 border border-white/5 rounded-lg p-3 
           text-text-primary text-sm focus:outline-none focus:border-emerald;
  }

  .quote-items {
    @apply mb-4;
  }

  .quote-item-row {
    @apply flex flex-col sm:flex-row gap-2 mb-3 items-stretch sm:items-center;
  }

  .quote-item-row input {
    @apply bg-black/30 border border-white/5 rounded-lg p-2 text-text-primary text-sm;
  }

  .item-name {
    @apply sm:flex-[2];
  }

  .item-qty,
  .item-price {
    @apply sm:flex-1;
  }

  .item-total {
    @apply sm:flex-1 font-semibold text-emerald text-right text-sm;
  }

  .remove-item {
    @apply text-rust cursor-pointer p-2;
  }

  .add-item-btn {
    @apply w-full bg-transparent border border-dashed border-emerald rounded-lg 
           p-3 text-emerald font-medium cursor-pointer flex items-center 
           justify-center gap-2 my-3 text-sm;
  }

  .quote-summary {
    @apply border-t border-white/10 pt-4 mt-2;
  }

  .summary-row {
    @apply flex justify-between mb-2 text-sm;
  }

  .summary-row.total {
    @apply text-xl font-bold text-emerald mt-3 pt-3 border-t border-white/10;
  }

  .quote-actions {
    @apply flex flex-col sm:flex-row gap-3 mt-5;
  }

  .quote-btn {
    @apply flex-1 py-3 rounded-full border-none font-semibold cursor-pointer 
           flex items-center justify-center gap-2 text-sm;
  }

  .quote-btn.preview {
    @apply bg-transparent border border-emerald text-emerald;
  }

  .quote-btn.save {
    @apply bg-emerald text-obsidian;
  }

  /* Quote preview card */
  .quote-preview {
    @apply glass-card p-5 border-2 border-emerald my-3 animate-slideIn;
  }

  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .preview-header {
    @apply flex justify-between border-b border-dashed border-emerald pb-3 mb-3;
  }

  .preview-business {
    @apply font-bold text-lg font-display;
  }

  /* Receipt card */
  .receipt-card {
    @apply glass-card p-5 border border-emerald my-3;
  }

  /* IOU card */
  .iou-card {
    @apply glass-card p-5 border border-amber my-3;
  }

  /* Action buttons */
  .action-buttons {
    @apply flex gap-3 my-4;
  }

  .action-btn {
    @apply flex-1 glass-card py-3 flex items-center justify-center gap-2 
           cursor-pointer transition-all hover:border-emerald hover:bg-emerald/10 
           text-text-primary text-sm;
  }

  .action-btn i.fa-file-invoice {
    color: var(--accent-emerald);
  }

  .action-btn i.fa-receipt {
    color: var(--accent-mint);
  }

  .action-btn i.fa-hand-holding-usd {
    color: var(--accent-amber);
  }

  /* Product grid */
  .product-grid {
    @apply grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 my-4;
  }

  .product-btn {
    @apply glass-card p-3 flex flex-col items-center gap-2 cursor-pointer 
           transition-all hover:border-emerald hover:-translate-y-0.5;
  }

  .product-emoji {
    @apply text-2xl md:text-3xl;
  }

  .product-price {
    @apply text-xs md:text-sm text-emerald font-semibold;
  }

  /* Alert sections */
  .alert-section {
    @apply glass-card p-5;
  }

  .alert-title {
    @apply flex items-center gap-2 text-text-secondary text-sm font-semibold mb-4;
  }

  .alert-item {
    @apply flex items-center justify-between py-3 border-b border-white/5;
  }

  .alert-item:last-child {
    @apply border-b-0;
  }

  .alert-left {
    @apply flex items-center gap-3;
  }

  .alert-icon {
    @apply w-8 h-8 md:w-10 md:h-10 rounded-lg bg-amber/10 flex items-center 
           justify-center text-amber shrink-0;
  }

  .alert-details h4 {
    @apply text-sm md:text-base mb-1;
  }

  .alert-details p {
    @apply text-xs text-text-secondary;
  }

  .alert-right.overdue {
    @apply text-rust font-semibold;
  }

  /* Bottom navigation - Mobile only */
  .bottom-nav {
    @apply md:hidden fixed bottom-0 left-0 right-0 bg-vault/90 backdrop-blur-lg 
           border-t border-white/5 px-6 py-3 flex justify-between items-center 
           text-text-secondary z-50;
  }

  .nav-item {
    @apply flex flex-col items-center text-xs cursor-pointer;
  }

  .nav-item i {
    @apply text-xl;
  }

  .nav-item.active {
    @apply text-emerald;
  }

  .nav-item.import-btn {
    @apply bg-emerald text-obsidian px-5 py-2 rounded-full -translate-y-3 
           shadow-lg shadow-emerald/30 font-semibold;
  }

  .nav-item.import-btn i {
    @apply text-obsidian;
  }

  /* Icon styles */
  .fa,
  .fas,
  .far {
    @apply transition-all duration-200;
  }

  /* Bottom navigation icon sizing */
  .bottom-nav i {
    @apply text-xl;
  }

  /* Header icon sizing */
  .header-actions i {
    @apply text-xl;
  }

  /* Utility Classes */
  .text-gradient {
    @apply bg-gradient-to-br from-white via-white to-text-secondary bg-clip-text text-transparent;
  }

  /* Add padding to main content to account for fixed bottom nav on mobile */
  .pb-nav {
    @apply pb-20 md:pb-0;
  }
}

@layer utilities {
  /* Shadow utilities */
  .shadow-emerald-glow {
    box-shadow: 0 0 20px rgba(59, 206, 172, 0.15);
  }

  /* Animation utilities */
  @keyframes slide-in-from-top {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-in {
    animation-duration: 0.7s;
    animation-fill-mode: both;
  }

  .slide-in-from-top {
    animation-name: slide-in-from-top;
  }

  .fade-in {
    animation-name: fade-in;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  /* Animation delay utilities */
  .delay-300 {
    animation-delay: 300ms;
  }
}
